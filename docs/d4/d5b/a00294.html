<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sherlock&#39;s Gambit: CIA: Sherlock&#39;s Gambit&#39;s Client</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../icon_logo_128.png"/></td>
  <td id="projectalign">
   <div id="projectname">Sherlock&#39;s Gambit<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Documentation for C#TP11</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">CIA: Sherlock's Gambit's Client </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This guide is here to help you get started with the client! It will be updated regularly so come back here to get the latest updates! </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Version   </th><th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Changelog    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1.0   </td><td class="markdownTableBodyNone">21/03   </td><td class="markdownTableBodyNone">Initial version   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md1"></a>
Downloading the client</h1>
<ul>
<li>The client is available on the Moodle page: <a href="https://moodle.cri.epita.fr/mod/folder/view.php?id=13926">here</a></li>
<li>You can download the ZIP file, extract it. Since the client is available on multiple systems, you must use the appropriate tool to extract the client.<ul>
<li>The classic <code>unzip</code> command on Linux distributions should do the job</li>
</ul>
</li>
<li>The client will be updated regularly, please check this page once in a while.</li>
<li>To run the client on the <code>PIE</code>, <b>please run the following commands</b>, once extracted: <div class="fragment"><div class="line">42sh$ nix profile install nixpkgs#steam-run --impure</div>
<div class="line">42sh$ ./linux-cia-1.0 </div>
<div class="line"># don&#39;t forget to replace 1.0 by the version</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Entering the game</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Generating a DLL and finding it</h2>
<ul>
<li>The client uses the DLL file generated by the C# when using Rider (or any alternative compiler). So, you must first generate one by running your TP at least once.</li>
<li>This file is usually located in the <code>bin</code> or <code>obj</code> folder of your project: <div class="fragment"><div class="line">42sh$ ls bin/Debug/net5.0</div>
<div class="line">SherlocksGambit.deps.json  SherlocksGambit.dll SherlocksGambit.runtimeconfig.json  randNum.txt</div>
</div><!-- fragment --></li>
<li>You must find the <code>SherlocksGambit.dll</code> file in this folder</li>
<li>We highly recommend copying the file over to the <code>CIA-data</code> folder of your TP/client.</li>
</ul>
<p >Once found and copied, you can load it using the navigator in the <code>Import your file</code> section by clicking on the upload icon:</p><ul>
<li>Loading the DLL<img src="https://raw.githubusercontent.com/vertven/checkers-doc/main/img/DLL-loading-button.png" alt="How to open the navigation menu" class="inline"/></li>
<li>Selecting the file<img src="https://raw.githubusercontent.com/vertven/checkers-doc/main/img/dll-selection.png" alt="Selecting a DLL" class="inline"/></li>
<li>If the file is valid <img src="https://raw.githubusercontent.com/vertven/checkers-doc/main/img/both-done.png" alt="Valid" class="inline"/></li>
</ul>
<p ><b>Beware</b>: if you change anything in your TP, you must reload your DLL and come back to this screen to have your changes on the client.</p>
<p ><b>Warning</b>: if you modify any of the classes in the given code (name, prototype), the client will not work correctly.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Logging in the client</h2>
<p >To access the client, you must connect your EPITA's Microsoft account to our API. To do so, when you click on the login button, you will have to follow multiple steps:</p>
<ol type="1">
<li>Click once: the client will generate a code and <b>paste</b> it into your clipboard <b>automatically</b>. <img src="https://raw.githubusercontent.com/vertven/checkers-doc/main/img/API-Login.png" alt="Login with token" class="inline"/></li>
<li>Click a second time, it will open a navigation tab on your favorite browser. It will prompt you to enter the token from step 1, paste it and log in your EPITA's Microsoft account. <br  />
 <img src="https://raw.githubusercontent.com/vertven/checkers-doc/main/img/login-token.png" alt="Token screen" class="inline"/></li>
<li>If you have followed thoroughly the steps, you can go back to the client and a checked box should appear. <img src="https://raw.githubusercontent.com/vertven/checkers-doc/main/img/login-done.png" alt="Login done" class="inline"/></li>
</ol>
<p >Once you have completed both steps, you can enter the main menu by clicking on the new button.</p>
<p >An API is needed to retrieve your login and your group. However, we will <b>never</b> use in any case your personal data.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Game modes</h1>
<p >Three sections are available:</p><ol type="1">
<li>Sandbox (Offline mode for your tests)</li>
<li>LeaderBoard (<b>TBA</b>)</li>
<li>VS (<b>TBA</b>)</li>
</ol>
<p ><img src="https://raw.githubusercontent.com/vertven/checkers-doc/main/img/homescreen.png" alt="Homescreen" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md6"></a>
Sandbox Mode</h2>
<p >There are three game modes available in this module </p>
<h3><a class="anchor" id="autotoc_md7"></a>
1. Board loader</h3>
<p ><b>Requires the FEN encryption from Threshold 1</b></p><ul>
<li>This mode provides a visualizer for the FEN codes. You can customize the <code>Board Fen's code</code> string to print a new one. <img src="https://raw.githubusercontent.com/vertven/checkers-doc/main/img/FEN%20editor.png" alt="FEN encryption" class="inline"/></li>
<li>If the code is not a valid one, the client will generate an exception and put the log in a file (at the path specified on the UI)</li>
</ul>
<h3><a class="anchor" id="autotoc_md8"></a>
2. Game viewer</h3>
<p ><b>Requires the FEN encryption and the move encryption and decryption parts</b> With move encryption and decryption, you should be able to generate your first .cia file. It contains a set of moves encrypted and each of them is separated by a line.</p>
<p >You can use those files to visualize a set of moves done by your AI during a test.</p>
<p >To do so, you must use a similar procedure to the <code>DLL loading</code> but with a <code>.cia</code> file.</p>
<p ><img src="https://raw.githubusercontent.com/vertven/checkers-doc/main/img/cialoading.png" alt=".cia file loading" class="inline"/></p>
<p >Then, you can enter the game and move between the different moves by using the arrow keys of your keyboard or the keys from your WASD/WQSD pad (depending on your keyboard layout)</p>
<p >An example of a valid <code>.cia</code> file is:</p>
<blockquote class="doxtable">
<p >&zwj;(9-14) <br  />
 22-18 <br  />
 (5-9) <br  />
 24-20 <br  />
 </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md9"></a>
3. AI vs AI</h3>
<p ><b>The entire TP is required to use this game mode</b></p>
<p >You can use this mode to load your fresh AI and make two of those battle against each other. The controls from the <code>Game viewer</code> are still valid.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Known issues</h1>
<p >If there is any issue, we will put it here!</p>
<p >Last updated: 21/03/22 17h </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
